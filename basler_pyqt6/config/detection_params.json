{
  "detection": {
    "min_area": 2,
    "max_area": 3000,
    "min_aspect_ratio": 0.001,
    "max_aspect_ratio": 100.0,
    "min_extent": 0.001,
    "max_solidity": 5.0,
    "bg_history": 1000,
    "bg_var_threshold": 3,
    "detect_shadows": false,
    "bg_learning_rate": 0.001,
    "gaussian_blur_kernel": [
      1,
      1
    ],
    "canny_low_threshold": 2,
    "canny_high_threshold": 8,
    "binary_threshold": 1,
    "dilate_kernel_size": [
      1,
      1
    ],
    "dilate_iterations": 0,
    "close_kernel_size": [
      1,
      1
    ],
    "enable_watershed_separation": true,
    "opening_kernel_size": [
      1,
      1
    ],
    "opening_iterations": 0,
    "connectivity": 4,
    "roi_enabled": true,
    "roi_height": 150,
    "roi_position_ratio": 0.1,
    "ultra_high_speed_mode": false,
    "target_fps": 280,
    "high_speed_bg_history": 100,
    "high_speed_bg_var_threshold": 8,
    "high_speed_min_area": 1,
    "high_speed_max_area": 2000,
    "high_speed_binary_threshold": 3
  },
  "gate": {
    "enable_gate_counting": true,
    "gate_line_position_ratio": 0.5,
    "gate_trigger_radius": 20,
    "gate_history_frames": 8
  },
  "ui": {
    "min_area_range": [
      1,
      100
    ],
    "min_area_default": 2,
    "max_area_range": [
      500,
      10000
    ],
    "max_area_default": 3000,
    "bg_var_threshold_range": [
      1,
      20
    ],
    "bg_var_threshold_default": 3,
    "min_track_frames_range": [
      3,
      15
    ],
    "min_track_frames_default": 8,
    "duplicate_distance_range": [
      10,
      40
    ],
    "duplicate_distance_default": 20,
    "image_scale_options": [
      "100% (原始)",
      "75%",
      "50%",
      "30%"
    ],
    "image_scale_default": "50%",
    "skip_frames_range": [
      0,
      10
    ],
    "skip_frames_default": 0,
    "original_display_size": [
      360,
      270
    ],
    "original_display_height": 300
  },
  "performance": {
    "image_scale": 0.5,
    "skip_frames": 0,
    "show_gray": false,
    "show_binary": false,
    "show_edges": false,
    "show_coords": false,
    "show_timing": true
  },
  "debug": {
    "debug_save_enabled": false,
    "debug_save_dir": "basler_pyqt6/recordings/debug",
    "max_debug_frames": 100
  },
  "packaging": {
    "target_count": 150,
    "enable_auto_packaging": false,
    "speed_full_threshold": 0.85,
    "speed_medium_threshold": 0.93,
    "speed_slow_threshold": 0.97,
    "vibrator_speed_full": 100,
    "vibrator_speed_medium": 60,
    "vibrator_speed_slow": 30,
    "vibrator_speed_creep": 10,
    "stop_delay_frames": 10,
    "advance_stop_count": 2,
    "enable_sound_alert": true,
    "alert_on_target_reached": true,
    "alert_on_speed_change": false,
    "enable_batch_tracking": true,
    "auto_reset_on_complete": false
  },
  "part_library": {
    "part_profiles": [
      {
        "part_id": "default_small_part",
        "part_name": "極小零件（已驗證）",
        "part_image": "resources/parts/small_part.jpg",
        "description": "極小螺絲/零件（basler_mvc 驗證參數）",
        "is_circular": false,
        "is_reflective": true,
        "requires_high_speed": false,
        "available_methods": [
          {
            "method_id": "counting",
            "method_name": "定量計數",
            "method_description": "虛擬光柵計數法",
            "config": {
              "min_area": 2,
              "max_area": 3000,
              "bg_var_threshold": 3,
              "bg_learning_rate": 0.001,
              "bg_history": 1000,
              "roi_enabled": true,
              "roi_height": 150,
              "roi_position_ratio": 0.1,
              "gate_trigger_radius": 20,
              "gate_history_frames": 8,
              "gate_line_position_ratio": 0.5,
              "target_count": 150,
              "speed_full_threshold": 0.85,
              "speed_medium_threshold": 0.93,
              "speed_slow_threshold": 0.97
            }
          },
          {
            "method_id": "defect_detection",
            "method_name": "表面瑕疵檢測",
            "method_description": "影像瑕疵分析（開發中）",
            "config": {
              "defect_threshold": 0.5,
              "defect_types": [
                "scratch",
                "dent"
              ],
              "edge_detection_enabled": true,
              "canny_low": 50,
              "canny_high": 150
            }
          }
        ],
        "current_method_id": "counting"
      }
    ],
    "current_part_id": "default_small_part"
  }
}